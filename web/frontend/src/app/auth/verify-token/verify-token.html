<div class="verify-container">
  <mat-card class="verify-card">
    <mat-card-content>
      @if (verifying()) {
        <div class="verifying-state">
          <mat-spinner diameter="60"></mat-spinner>
          <h2>Verifying your login...</h2>
          <p>Please wait while we authenticate you.</p>
        </div>
      }

      @if (success()) {
        <div class="success-state">
          <mat-icon class="success-icon">check_circle</mat-icon>
          <h2>Welcome!</h2>
          <p>Login successful. Redirecting to your dashboard...</p>
          @if (userEmail()) {
            <p class="user-email">Logged in as: <strong>{{ userEmail() }}</strong></p>
          }
        </div>
      }

      @if (error()) {
        <div class="error-state">
          <mat-icon class="error-icon">error</mat-icon>
          <h2>Login Failed</h2>
          <p class="error-message">{{ error() }}</p>
          <p class="help-text">
            The magic link may have expired or already been used. Please request a new one.
          </p>
          <a mat-raised-button color="primary" routerLink="/auth/login" class="back-button">
            <mat-icon>arrow_back</mat-icon>
            <span>Back to Login</span>
          </a>
        </div>
      }
    </mat-card-content>
  </mat-card>
</div>
